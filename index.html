<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="common.css">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body>
    <div class="body_wrap">
        <section class="header">
            <p class="big mb">AAAA AAA</p>
        </section>
        <section class="top_section">
            <article class="hero">
                <p class="medium sb label">aaaaa</p>
                <h2 class="animated_text">
                    <p>
                        <span>A</span>
                        <span>A</span>
                    </p>
                    <p>
                        <span>A</span>
                    </p>
                    <!-- <br/> -->
                    <p>
                        <span>A</span>
                        <span>A</span>
                        <span>A</span>
                        <span>A</span>
                    </p>
                    <!-- <br/> -->
                    <!-- <p>
                        <span>A</span>
                        <span>A</span>
                        <span>A</span>
                        <span>A</span>
                        <span>A</span>
                        <span>A</span>
                        <span>A</span>
                        <span>A</span>
                        <span>A</span>
                    </p> -->
                </h2>
            </article>
            <div class="top_img_box">
                <img src="" />
            </div>
        </section>
        <section class="name_section black">
            <img src="" class="name_img" />
        </section>
        <section class="job_section black">
            <article class="left">
                <p class="medium sb label">aaa</p>
                <h3 class="">AA AAA <br/>A A AAA</h3>
            </article>
            <article class="right">
                <ul>
                    <li>
                        <img src="" />
                        <div>
                            <p class="big bb">AAAA AA</p>
                            <p class="text n">aaaaaaa</p>
                        </div>
                    </li>
                    <li>
                        <img src="" />
                        <div>
                            <p class="big bb">AAA AAAAAAA</p>
                            <p class="text n">aaaaaaa</p>
                        </div>
                    </li>
                    <li>
                        <img src="" />
                        <div>
                            <p class="big bb">AAAAAAAAAA / AAAAAA</p>
                            <p class="text n">aaaaaaa</p>
                        </div>
                    </li>
                </ul>
            </article>
        </section>
        <section class="portfolio_section">
            <article class="title">
                <p class="medium sb label">aa aaaa aaa</p>
                <h3 class="flex_title">
                    <p><span>AAAA</span><span>AAAA</span><span>AAAA</span></p>
                    <p><span>AAAA</span><span>AAA</span><span>AAAA</span></p>
                </h3>
            </article>
            <article class="bottom">
                <ul class="project_list ">
                    <li>
                        <a class="trigger_btn" href=""></a>
                        <div class="thumbnail_box">
                            <img src="" class="thumbnail" />
                        </div>
                        <div class="description_box">
                            <p class="medium mb">01</p>
                            <p class="big bb">AAAAA</p>
                        </div>
                        <div class="contribution_box">
                            <div>
                                <p class="medium mb">AAA</p>
                                <h3>80%</h3>
                                <p class="text n">AAAA</p>
                            </div>
                            <div class="use_skills">
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                            </div>
                        </div>
                    </li>
                    <li>
                        <a class="trigger_btn" href=""></a>
                        <div class="thumbnail_box">
                            <img src="" class="thumbnail" />
                        </div>
                        <div class="description_box">
                            <p class="medium mb">02</p>
                            <p class="big bb">AAAAA</p>
                        </div>
                        <div class="contribution_box">
                            <div>
                                <p class="medium mb">AAA</p>
                                <h3>80%</h3>
                                <p class="text n">AAAA</p>
                            </div>
                            <div class="use_skills">
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                            </div>
                        </div>
                    </li>
                </ul>
                <ul class="project_list ">
                    <li>
                        <a class="trigger_btn" href=""></a>
                        <div class="thumbnail_box">
                            <img src="" class="thumbnail" />
                        </div>
                        <div class="description_box">
                            <p class="medium mb">01</p>
                            <p class="big bb">AAAAA</p>
                        </div>
                        <div class="contribution_box">
                            <div>
                                <p class="medium mb">AAA</p>
                                <h3>80%</h3>
                                <p class="text n">AAAA</p>
                            </div>
                            <div class="use_skills">
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                            </div>
                        </div>
                    </li>
                    <li>
                        <a class="trigger_btn" href=""></a>
                        <div class="thumbnail_box">
                            <img src="" class="thumbnail" />
                        </div>
                        <div class="description_box">
                            <p class="medium mb">02</p>
                            <p class="big bb">AAAAA</p>
                        </div>
                        <div class="contribution_box">
                            <div>
                                <p class="medium mb">AAA</p>
                                <h3>80%</h3>
                                <p class="text n">AAAA</p>
                            </div>
                            <div class="use_skills">
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                            </div>
                        </div>
                    </li>
                    <li>
                        <a class="trigger_btn" href=""></a>
                        <div class="thumbnail_box">
                            <img src="" class="thumbnail" />
                        </div>
                        <div class="description_box">
                            <p class="medium mb">02</p>
                            <p class="big bb">AAAAA</p>
                        </div>
                        <div class="contribution_box">
                            <div>
                                <p class="medium mb">AAA</p>
                                <h3>80%</h3>
                                <p class="text n">AAAA</p>
                            </div>
                            <div class="use_skills">
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                            </div>
                        </div>
                    </li>
                </ul>
                <ul class="project_list ">
                    <li>
                        <a class="trigger_btn" href=""></a>
                        <div class="thumbnail_box">
                            <img src="" class="thumbnail" />
                        </div>
                        <div class="description_box">
                            <p class="medium mb">01</p>
                            <p class="big bb">AAAAA</p>
                        </div>
                        <div class="contribution_box">
                            <div>
                                <p class="medium mb">AAA</p>
                                <h3>80%</h3>
                                <p class="text n">AAAA</p>
                            </div>
                            <div class="use_skills">
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                            </div>
                        </div>
                    </li>
                    <li>
                        <a class="trigger_btn" href=""></a>
                        <div class="thumbnail_box">
                            <img src="" class="thumbnail" />
                        </div>
                        <div class="description_box">
                            <p class="medium mb">02</p>
                            <p class="big bb">AAAAA</p>
                        </div>
                        <div class="contribution_box">
                            <div>
                                <p class="medium mb">AAA</p>
                                <h3>80%</h3>
                                <p class="text n">AAAA</p>
                            </div>
                            <div class="use_skills">
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                            </div>
                        </div>
                    </li>
                    <li>
                        <a class="trigger_btn" href=""></a>
                        <div class="thumbnail_box">
                            <img src="" class="thumbnail" />
                        </div>
                        <div class="description_box">
                            <p class="medium mb">02</p>
                            <p class="big bb">AAAAA</p>
                        </div>
                        <div class="contribution_box">
                            <div>
                                <p class="medium mb">AAA</p>
                                <h3>80%</h3>
                                <p class="text n">AAAA</p>
                            </div>
                            <div class="use_skills">
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                                <img src="" class="skill_icon" />
                            </div>
                        </div>
                    </li>
                </ul>
            </article>
        </section>
        <section class="skill_section" style="height: 100dvh;"></section>
    </div>
  <!-- <section class="hero">
    <h1 class="animated_text">
      <span>I</span>
      <span>'</span>
      <span>M</span>
      <span>A</span>
      <br/>
      <span>W</span>
      <span>E</span>
      <span>B</span>
      <br/>
      <span>P</span>
      <span>U</span>
      <span>B</span>
      <span>L</span>
      <span>I</span>
      <span>S</span>
      <span>H</span>
      <span>E</span>
      <span>R</span>
    </h1>
  </section> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/SplitText.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
    const animatedText = document.querySelector('.animated_text');
    const spans = animatedText.querySelectorAll('span');
    const hero = document.querySelector('.hero');
    const labels = document.querySelectorAll('.label');
    const projectLists = document.querySelectorAll('.project_list'); // üéØ Î™®Îì† .project_list ÏÑ†ÌÉù
    const article = document.querySelector('article'); // üéØ article ÏöîÏÜå ÏÑ†ÌÉù

    let firstEntry = true;
    let currentTween = null; // üî• ÌòÑÏû¨ Ïã§Ìñâ Ï§ëÏù∏ gsap.to()Î•º Ï∂îÏ†Å

    // Ï¥àÍ∏∞ ÏúÑÏπò ÏÑ∏ÌåÖ
    gsap.set(spans, { opacity: 0, y: 0 });
    gsap.set(labels, { opacity: 0, y: 20 }); // ÏÇ¥Ïßù ÏïÑÎûòÏóêÏÑú ÏãúÏûë
    gsap.set(projectLists, { xPercent: 100, position: "relative" }); // üéØ ÌôîÎ©¥ Î∞ñ Ïò§Î•∏Ï™ΩÏúºÎ°ú Î∞ÄÏñ¥ÎÜìÍ∏∞

    // Intersection Observer ÏÉùÏÑ± (ÌïòÎÇòÎßå ÏÇ¨Ïö©!)
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            const target = entry.target;

            if (entry.isIntersecting) {
                if (target === hero) {
                    // ‚úÖ Îì±Ïû• Ïï†ÎãàÎ©îÏù¥ÏÖò Ïã§Ìñâ Ï†ÑÏóê ÌôïÏã§Ìûà Ï¥àÍ∏∞Ìôî
                    gsap.killTweensOf(spans); // Ïã§Ìñâ Ï§ë Ïï†ÎãàÎ©îÏù¥ÏÖò Ï§ëÏßÄ
                    gsap.set(spans, { opacity: 0, y: 0 });

                    // üí° ÏÇ¥Ïßù ÏãúÍ∞ÑÏ∞® ÎëêÍ≥† Îì±Ïû• Ïï†ÎãàÎ©îÏù¥ÏÖò
                    const delay = firstEntry ? 500 : 100;
                    setTimeout(() => {
                        gsap.killTweensOf(spans); // ÌòπÏãú Î™®Î•º Ï§ëÎ≥µ Ï†úÍ±∞
                        gsap.set(spans, { opacity: 0, y: 0 }); // Îã§Ïãú Ï¥àÍ∏∞Ìôî (ÏôÑÏ†Ñ ÌÅ¥Î¶∞!)

                        currentTween = gsap.to(spans, {
                            delay: 0,
                            duration: 1.5,
                            opacity: 1,
                            y: 0,
                            stagger: 0.1,
                            ease: "power3.out",
                        });
                    }, delay);

                    firstEntry = false;

                    // Îñ®Ïñ¥ÏßÄÎäî Ïï†ÎãàÎ©îÏù¥ÏÖòÏùÄ 3Ï¥à ÌõÑ Ïã§Ìñâ
                    setTimeout(() => {
                        const heroRect = hero.getBoundingClientRect();
                        const heroBottom = heroRect.bottom + window.scrollY;
                        const heroHeight = heroRect.height;

                        const minDropY = 0;
                        const maxDropY = heroBottom - heroHeight;

                        // Ïï†ÎãàÎ©îÏù¥ÏÖò Ïã§Ìñâ
                        // spans.forEach(span => {
                        //     gsap.to(span, {
                        //         duration: 2.5,
                        //         y: gsap.utils.random(minDropY - span.offsetTop, maxDropY - span.offsetTop),
                        //         x: gsap.utils.random(0, 0),
                        //         opacity: 1, // ‚ú® ÌéòÏù¥ÎìúÏïÑÏõÉ ÎßâÍ∏∞ ÏúÑÌï¥ Î™ÖÏãúÏ†ÅÏúºÎ°ú Ïú†ÏßÄ
                        //         ease: "bounce.out",
                        //         overwrite: true,
                        //     });
                        // });
                    }, delay);
                }

                // üëá .label ÏöîÏÜå Ï≤òÎ¶¨
                if (target.classList.contains('label')) {
                    // gsap Îì±Ïû• Ïï†ÎãàÎ©îÏù¥ÏÖò
                    gsap.fromTo(target,
                        {
                            opacity: 0,
                            y: 20
                        },
                        {
                            opacity: 1,
                            y: 0,
                            duration: 1,
                            ease: "power3.out",
                            overwrite: true
                        }
                    );
                }

                // üëá article ÏòÅÏó≠Ïù¥ Î∑∞Ìè¨Ìä∏Ïóê Îì§Ïñ¥Ïò§Î©¥ Î™®Îì† .project_list Ïä¨ÎùºÏù¥Îìú Ïï†ÎãàÎ©îÏù¥ÏÖò Ïã§Ìñâ
                if (target === article) {
                    projectLists.forEach(list => {
                        // Ïù¥ÎØ∏ 'animated' ÌÅ¥ÎûòÏä§Í∞Ä ÏûàÏúºÎ©¥ Ìá¥Ïû• Ïï†ÎãàÎ©îÏù¥ÏÖò Ïã§Ìñâ
                        if (list.classList.contains('animated')) {
                            gsap.to(list,
                                {
                                    xPercent: 100, // ÌôîÎ©¥ Ïò§Î•∏Ï™ΩÏúºÎ°ú Ïä¨ÎùºÏù¥Îìú
                                    duration: 1.2,
                                    ease: "power3.in",
                                    overwrite: true,
                                    onComplete: () => {
                                        list.classList.remove('animated'); // Ïï†ÎãàÎ©îÏù¥ÏÖò ÏôÑÎ£å ÌõÑ 'animated' ÌÅ¥ÎûòÏä§ Ï†úÍ±∞
                                    }
                                }
                            );
                        }
                    });
                }

            } else {
                // üëá article ÏòÅÏó≠Ïù¥ Î∑∞Ìè¨Ìä∏ Î∞ñÏúºÎ°ú ÎÇòÍ∞ÄÎ©¥ Î™®Îì† .project_list Ïä¨ÎùºÏù¥Îìú Ïï†ÎãàÎ©îÏù¥ÏÖò Ìá¥Ïû•
                if (target === article) {
                    projectLists.forEach(list => {
                        // Ïù¥ÎØ∏ Ïï†ÎãàÎ©îÏù¥ÏÖòÏù¥ Ïã§ÌñâÎêú ÏöîÏÜåÎäî Îã§Ïãú Ïã§ÌñâÌïòÏßÄ ÏïäÏùå
                        if (!list.classList.contains('animated')) {
                            gsap.fromTo(list,
                                {
                                    xPercent: 100 // ÌôîÎ©¥ Ïò§Î•∏Ï™Ω Î∞ñÏóêÏÑú ÏãúÏûë
                                },
                                {
                                    xPercent: 0, // ÏôºÏ™ΩÏúºÎ°ú Ïä¨ÎùºÏù¥Îìú
                                    duration: 1.2,
                                    ease: "power3.out",
                                    overwrite: true,
                                    onComplete: () => {
                                        list.classList.add('animated'); // Ïï†ÎãàÎ©îÏù¥ÏÖò ÏôÑÎ£å ÌõÑ 'animated' ÌÅ¥ÎûòÏä§ Ï∂îÍ∞Ä
                                    }
                                }
                            );
                        }
                    });
                }
            }
        });
    }, {
        threshold: 0.1 // 30% Ïù¥ÏÉÅ Î≥¥Ïùº Îïå Ïã§Ìñâ
    });

    // Í¥ÄÏ∞∞ ÏãúÏûë
    observer.observe(hero);
    labels.forEach(label => observer.observe(label));
    observer.observe(article); // üéØ articleÏùÑ Í¥ÄÏ∞∞ÌïòÏó¨ bottomÏù¥ Î∑∞Ìè¨Ìä∏Ïóê Îì§Ïñ¥Ïò¨ Îïå Ïï†ÎãàÎ©îÏù¥ÏÖò Ïã§Ìñâ
});

    </script>
</body>
</html>